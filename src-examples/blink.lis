Z80/8080-Macro-Assembler  Release 2.0	Tue Apr 30 15:10:12 2024

LOC   OBJECT CODE   LINE   STMT SOURCE CODE
                       1      1 ;
                       2      2 ; Example program for the Arduino 8080
                       3      3 ; Blink builtin LED for a bit
                       4      4 ;
                       5      5 ; Udo Munk, April 2024
                       6      6 ;
                       7      7 
                       8      8 	.8080			; we use Intel 8080 syntax
                       9      9 	ORG 0000H		; starting at memory location 0
                      10     10 
0000  =               11     11 LED	EQU  0			; builtin LED port
                      12     12 
0000  f3              13     13 	DI			; disable interrupts
0001  31 00 01        14     14 	LXI  SP,0100H		; set stack far enough in upper memory
                      15     15 
0004  26 0a           16     16 	MVI  H,10		; blink LED 10 times
                      17     17 
0006  3e 01           18     18 L1	MVI  A,1		; switch LED on
0008  d3 00           19     19 	OUT  LED
000a  01 00 00        20     20 	LXI  B,0		; wait a second
000d  0b              21     21 L2	DCX  B
000e  78              22     22 	MOV  A,B
000f  b1              23     23 	ORA  C
0010  c2 0d 00        24     24 	JNZ  L2
0013  3e 00           25     25 	MVI  A,0		; switch LED off
0015  d3 00           26     26 	OUT  LED
0017  01 00 00        27     27 	LXI  B,0		; wait a second
001a  0b              28     28 L3	DCX  B
001b  78              29     29 	MOV  A,B
001c  b1              30     30 	ORA  C
001d  c2 1a 00        31     31 	JNZ  L3
                      32     32 
0020  25              33     33 	DCR  H
0021  c2 06 00        34     34 	JNZ  L1			; again if not done
                      35     35 
0024  76              36     36 	HLT			; done, halt CPU
                      37     37 
0025                  38     38 	END			; of program

Symbol table

L1  0006    L2  000d    L3  001a    LED 0000    
